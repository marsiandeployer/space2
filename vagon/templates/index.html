<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω–∫–∞ –ø–æ—Ä—Ç–æ–≤–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 20px; }
        .container { max-width: 1200px; }
        #sql-query-result, #stats-result { max-height: 400px; overflow-y: auto; }
        .spinner-border { display: none; }
        .error-msg { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üö¢ –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–Ω–µ–ª—å –ø–æ—Ä—Ç–æ–≤–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞</h1>
            <a href="/logout" class="btn btn-outline-danger">–í—ã—Ö–æ–¥</a>
        </div>

        <!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º –ë–î</h5>
            </div>
            <div class="card-body">
                <button id="load-stats-btn" class="btn btn-primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                <div class="spinner-border spinner-border-sm ms-2" role="status" id="stats-spinner"></div>
                <div id="stats-result" class="mt-3"></div>
                <div id="stats-error" class="error-msg mt-2"></div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é LLM</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="model-select" class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å LLM:</label>
                    <select class="form-select" id="model-select">
                        <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π...</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="user-query" class="form-label">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ:</label>
                    <textarea class="form-control" id="user-query" rows="3" placeholder="–ü—Ä–∏–º–µ—Ä: '–ü–æ–∫–∞–∂–∏ 5 —Å–∞–º—ã—Ö —Ç—è–∂–µ–ª—ã—Ö –≥—Ä—É–∑–æ–≤, –ø—Ä–∏–Ω—è—Ç—ã—Ö –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ'"></textarea>
                </div>
                <div class="mb-3">
                    <small class="form-text text-muted">–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä:</small><br>
                    <a href="#" class="query-example small">–ü–æ–∫–∞–∂–∏, –∫–∞–∫ –º–µ–Ω—è–ª–∞—Å—å –≤—ã–≥—Ä—É–∑–∫–∞ –≤–∞–≥–æ–Ω–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ 2 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–µ—Ç, –µ–∂–µ–º–µ—Å—è—á–Ω–æ</a><br>
                    <a href="#" class="query-example small">–ö–∞–∫ –º–µ–Ω—è–ª—Å—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–π –ø–æ–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å—É–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –≥–æ–¥–∞</a><br>
                    <a href="#" class="query-example small">–ö–∞–∫ –º–µ–Ω—è–ª—Å—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–≥—Ä—É–∑–∫–∏ –≤–∞–≥–æ–Ω–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ—Ä–æ–Ω—Ç–æ–≤ –≤—ã–≥—Ä—É–∑–∫–∏</a><br>
                    <a href="#" class="query-example small">–ö–∞–∫ –º–µ–Ω—è–ª—Å—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –µ–∂–µ–≥–æ–¥–Ω–æ–π –≤—ã–≥—Ä—É–∑–∫–∏ –≤–∞–≥–æ–Ω–æ–≤ –≤ —Ä–∞–∑—Ä–µ–∑–µ —Ä–æ–¥–æ–≤ –≥—Ä—É–∑–∞</a><br>
                    <a href="#" class="query-example small">–ö–∞–∫ –º–µ–Ω—è–ª—Å—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –µ–∂–µ–≥–æ–¥–Ω–æ–π –≤—ã–≥—Ä—É–∑–∫–∏ –≤–∞–≥–æ–Ω–æ–≤ –≤ —Ä–∞–∑—Ä–µ–∑–µ –≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π</a><br>
                    <a href="#" class="query-example small">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –¥–∞–Ω–Ω—ã–µ –ø–æ –æ—Ç–≥—Ä—É–∑–∫–∞–º –≤ –∞–¥—Ä–µ—Å –ø–æ—Ä—Ç–∞ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü</a><br>
                    <a href="#" class="query-example small">–°–∫–æ–ª—å–∫–æ –≤—ã–≥—Ä—É–∑–∏–ª–∏ –≤—á–µ—Ä–∞ –≤–∞–≥–æ–Ω–æ–≤ –≤ —Ä–∞–∑—Ä–µ–∑–µ —Ä–æ–¥–∞ –≥—Ä—É–∑–∞</a>
                </div>
                <button id="generate-sql-btn" class="btn btn-success">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SQL</button>
                <div class="spinner-border spinner-border-sm ms-2" role="status" id="generate-spinner"></div>
                
                <div class="mt-3">
                    <label for="sql-query" class="form-label">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å:</label>
                    <textarea class="form-control" id="sql-query" rows="4"></textarea>
                    <small class="form-text text-muted">–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º</small>
                    <div id="generate-error" class="error-msg mt-2"></div>
                </div>

                <div class="mt-3">
                    <label for="llm-prompt" class="form-label">–¢–æ—á–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ LLM:</label>
                    <textarea class="form-control" id="llm-prompt" rows="8" readonly style="font-size: 12px; background-color: #f8f9fa;"></textarea>
                </div>

                <button id="execute-sql-btn" class="btn btn-info mt-2" disabled>–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL</button>
                <div class="form-check mt-2">
                    <input class="form-check-input" type="checkbox" id="create-chart-checkbox">
                    <label class="form-check-label" for="create-chart-checkbox">
                        –°–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç)
                    </label>
                </div>
                <div class="spinner-border spinner-border-sm ms-2" role="status" id="execute-spinner"></div>
                
                <h6 class="mt-4">–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</h6>
                <div id="chart-container" class="mt-3" style="display: none;">
                    <h6>–ì—Ä–∞—Ñ–∏–∫:</h6>
                    <img id="chart-image" class="img-fluid border" alt="–ì—Ä–∞—Ñ–∏–∫ –¥–∞–Ω–Ω—ã—Ö" style="max-width: 100%; height: auto;">
                </div>
                <div id="sql-query-result" class="border p-2 bg-light"></div>
                <div id="execute-error" class="error-msg mt-2"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
        function showError(elementId, message) {
            const errorEl = $(`#${elementId}`);
            errorEl.text(message);
            errorEl.show();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
        function renderTable(elementId, data) {
            const container = $(`#${elementId}`);
            container.empty();
            if (data.length === 0) {
                container.text("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.");
                return;
            }
            const table = $('<table class="table table-bordered table-striped"></table>');
            const thead = $('<thead><tr></tr></thead>');
            const tbody = $('<tbody></tbody>');

            // –ó–∞–≥–æ–ª–æ–≤–∫–∏
            Object.keys(data[0]).forEach(key => {
                thead.find('tr').append(`<th>${key}</th>`);
            });

            // –°—Ç—Ä–æ–∫–∏
            data.forEach(row => {
                const tr = $('<tr></tr>');
                Object.values(row).forEach(val => {
                    tr.append(`<td>${val}</td>`);
                });
                tbody.append(tr);
            });

            table.append(thead).append(tbody);
            container.append(table);
        }

        $(document).ready(function() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
            function loadModels() {
                $.ajax({
                    url: '/api/models',
                    method: 'GET',
                    success: function(data) {
                        const modelSelect = $('#model-select');
                        modelSelect.empty();
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
                        data.models.forEach(function(model) {
                            const option = $('<option></option>');
                            option.val(model);
                            option.text(model);
                            if (model === data.current_model) {
                                option.attr('selected', true);
                            }
                            modelSelect.append(option);
                        });
                    },
                    error: function(jqXHR) {
                        $('#model-select').html('<option>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π</option>');
                    }
                });
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            loadModels();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
            $('#model-select').on('change', function() {
                const selectedModel = $(this).val();
                if (selectedModel) {
                    $.ajax({
                        url: '/api/models/set',
                        method: 'POST',
                        data: JSON.stringify({model_name: selectedModel}),
                        contentType: 'application/json',
                        success: function(data) {
                            console.log('–ú–æ–¥–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞:', selectedModel);
                        },
                        error: function(jqXHR) {
                            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ –º–æ–¥–µ–ª–∏:', jqXHR.responseJSON?.error);
                        }
                    });
                }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            $('#load-stats-btn').on('click', function() {
                $('#stats-spinner').show();
                $('#stats-error').hide();
                $('#stats-result').empty();

                $.ajax({
                    url: '/api/stats',
                    method: 'GET',
                    success: function(data) {
                        if (data.error) {
                            showError('stats-error', `–û—à–∏–±–∫–∞: ${data.error}`);
                        } else {
                            renderTable('stats-result', data);
                        }
                    },
                    error: function(jqXHR) {
                        showError('stats-error', `–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ${jqXHR.responseJSON?.error || jqXHR.statusText}`);
                    },
                    complete: function() {
                        $('#stats-spinner').hide();
                    }
                });
            });

            // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã
            let cachedSchema = null;

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ö–µ–º—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
            function getSchemaFromServer() {
                return $.ajax({
                    url: '/api/get-schema',
                    method: 'GET',
                    async: false
                }).responseJSON;
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (—Ç–æ—á–Ω–∞—è –∫–æ–ø–∏—è –∏–∑ Python)
            function buildFullPrompt(userQuery, schemaInfo) {
                return `You are an expert SQL Server database analyst. Your task is to generate ONLY valid SQL queries based on the provided database schema.

CRITICAL RULES - FOLLOW EXACTLY OR RETURN ERROR:
1. Use ONLY table names and column names from the provided schema below
2. NEVER invent or guess table names - only use what is explicitly listed
3. Always use [dbo].[TableName] format for tables
4. Always use [ColumnName] format for columns
5. Use SQL Server syntax (not MySQL LIMIT - use TOP instead)
6. For date operations use SQL Server functions: GETDATE(), DATEADD(), YEAR(), MONTH()
7. Return ONLY the SQL query without explanations or markdown

DATABASE SCHEMA (USE ONLY THESE TABLES AND COLUMNS):
${schemaInfo}

VALIDATION STEPS - FOLLOW BEFORE GENERATING SQL:
1. Read the user request carefully
2. Scan the schema above for relevant tables
3. Verify the table name exists in the schema
4. Verify the column names exist in the chosen table
5. If ANY table or column name is not found in the schema above, return: "ERROR: No suitable tables found in schema for this request"

EXAMPLES OF CORRECT MAPPING:
- "—Å—Ç—Ä–∞–Ω—ã –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è" ‚Üí Look for [–°—Ç—Ä–∞–Ω–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è] column ‚Üí Found in [dbo].[ShipsPlan] table
- "—Ç–∏–ø—ã —Å—É–¥–æ–≤" ‚Üí Look for [–°—É–¥–Ω–æ] column ‚Üí Found in [dbo].[ShipsImport], [dbo].[ShipsPlan] tables
- "–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ –≤–∞–≥–æ–Ω–æ–≤" ‚Üí Look for import/wagon tables ‚Üí Found in [dbo].[VagonImport], [dbo].[UploadWagonsImport]

USER REQUEST: ${userQuery}

First, verify that appropriate tables exist in the schema. Then generate SQL query using ONLY the tables and columns from the schema above:`;
            }

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL
            $('#generate-sql-btn').on('click', function() {
                const userQuery = $('#user-query').val();
                if (!userQuery) {
                    showError('generate-error', '–ü–æ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.');
                    return;
                }

                // –ü–æ–ª—É—á–∞–µ–º —Å—Ö–µ–º—É —Å —Å–µ—Ä–≤–µ—Ä–∞, –µ—Å–ª–∏ –µ—â–µ –Ω–µ –ø–æ–ª—É—á–∏–ª–∏
                if (!cachedSchema) {
                    try {
                        cachedSchema = getSchemaFromServer();
                    } catch (e) {
                        cachedSchema = "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ö–µ–º—É —Å —Å–µ—Ä–≤–µ—Ä–∞";
                    }
                }

                // –°–†–ê–ó–£ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
                const fullPrompt = buildFullPrompt(userQuery, cachedSchema.schema || cachedSchema);
                $('#llm-prompt').val(fullPrompt);

                $('#generate-spinner').show();
                $('#generate-error').hide();
                $('#sql-query').val('');
                $('#execute-sql-btn').prop('disabled', true);

                $.ajax({
                    url: '/api/generate-sql',
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify({ query: userQuery }),
                    success: function(data) {
                        console.log('–û—Ç–≤–µ—Ç –æ—Ç API:', data); // –î–æ–±–∞–≤–ª—è–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
                        if (data.error) {
                            showError('generate-error', `–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ${data.error}`);
                        } else {
                            console.log('–ü–æ–ª—É—á–µ–Ω–Ω—ã–π SQL:', data.sql_query); // –î–æ–±–∞–≤–ª—è–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
                            $('#sql-query').val(data.sql_query);
                            $('#execute-sql-btn').prop('disabled', false);
                        }
                    },
                    error: function(jqXHR) {
                        console.error('–û—à–∏–±–∫–∞ AJAX:', jqXHR); // –î–æ–±–∞–≤–ª—è–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
                        showError('generate-error', `–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ${jqXHR.responseJSON?.error || jqXHR.statusText}`);
                    },
                    complete: function() {
                        $('#generate-spinner').hide();
                    }
                });
            });

            // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL
            $('#execute-sql-btn').on('click', function() {
                const sqlQuery = $('#sql-query').val();
                const userQuery = $('#user-query').val();
                const createChart = $('#create-chart-checkbox').is(':checked');
                
                if (!sqlQuery) {
                    showError('execute-error', '–ù–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.');
                    return;
                }

                $('#execute-spinner').show();
                $('#execute-error').hide();
                $('#sql-query-result').empty();
                $('#chart-container').hide();

                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞–∫–æ–π API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
                const apiUrl = createChart ? '/api/execute-sql-with-chart' : '/api/execute-sql';
                const requestData = createChart 
                    ? { query: sqlQuery, user_query: userQuery, create_chart: true }
                    : { query: sqlQuery };

                $.ajax({
                    url: apiUrl,
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(requestData),
                    success: function(response) {
                        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
                        if (response.error) {
                            showError('execute-error', `–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${response.error}`);
                            return;
                        }
                        
                        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                        const data = response.data || response;
                        if (Array.isArray(data)) {
                            renderTable('sql-query-result', data);
                        } else {
                            $('#sql-query-result').text(JSON.stringify(data, null, 2));
                        }
                        
                        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞
                        if (response.chart) {
                            $('#chart-image').attr('src', 'data:image/png;base64,' + response.chart);
                            $('#chart-container').show();
                        }
                    },
                    error: function(jqXHR) {
                        showError('execute-error', `–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ${jqXHR.responseJSON?.error || jqXHR.statusText}`);
                    },
                    complete: function() {
                        $('#execute-spinner').hide();
                    }
                });
            });

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –ø—Ä–∏–º–µ—Ä–∞–º
            $('.query-example').on('click', function(e) {
                e.preventDefault(); // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
                const exampleText = $(this).text();
                $('#user-query').val(exampleText);
            });
        });
    </script>
</body>
</html>
